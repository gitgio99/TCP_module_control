# π“΅ TCP κΈ°λ° μ›κ²© μ¥μΉ μ μ–΄ μ‹μ¤ν…

---

## π“ ν”„λ΅μ νΈ κ°μ”

μ΄ ν”„λ΅μ νΈλ” **TCP μ†μ»΄ ν†µμ‹ μ„ ν™μ©ν• μ›κ²© μ¥μΉ μ μ–΄ μ‹μ¤ν…**μ…λ‹λ‹¤.
\*\*μ„λ²„(Raspberry Pi 4)\*\*λ” λ¬Όλ¦¬ μ¥μΉλ¥Ό μ μ–΄ν•κ³ , \*\*ν΄λΌμ΄μ–ΈνΈ(Ubuntu ν„°λ―Έλ„)\*\*μ€ λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•΄ μ¥μΉλ¥Ό μ›κ²© μ μ–΄ν•©λ‹λ‹¤.

* β… κ³µμ© λΌμ΄λΈλ¬λ¦¬(`.so`) κΈ°λ° μ¥μΉ λ¨λ“ν™”
* β… `pthread`, `daemon`, `SIGINT`, `softPwm`, `softTone` λ“± ν™μ©
* β… CLI UIμ—μ„ λ‹¤μ–‘ν• μ μ–΄ λ° κ°μ„± μ•λ¦Ό μ κ³µ πµπ‘π

---

## π“‚ ν”„λ΅μ νΈ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```
FINAL_PROJECT/
β”β”€β”€ README.md
β”β”€β”€ client/
β”‚   β”β”€β”€ client.c            # λ…λ Ήμ–΄ μ…λ ¥, μ ν¨μ„± κ²€μ‚¬, μ„λ²„ μ‘λ‹µ μμµ
β”‚   β””β”€β”€ makefile
β”‚
β”β”€β”€ module/
β”‚   β”β”€β”€ buz.c / buz.h       # BUZZER (λ…Έλ μ¬μƒ + μ¤λ λ“)
β”‚   β”β”€β”€ cds.c / cds.h       # μ΅°λ„μ„Όμ„ + LED μ—°λ™
β”‚   β”β”€β”€ led.c / led.h       # LED λ°κΈ° μ΅°μ 
β”‚   β”β”€β”€ seg.c / seg.h       # 7μ„Έκ·Έλ©νΈ μ«μ ν‘μ‹ + νƒ€μ΄λ¨Έ
β”‚   β”β”€β”€ init_module.c / h   # μ „μ²΄ μ¥μΉ μ΄κΈ°ν™”
β”‚   β”β”€β”€ test/ test.c        # κ°λ³„ μ¥μΉ ν…μ¤νΈμ©
β”‚   β””β”€β”€ makefile            # .so λΉλ“ μλ™ν™”
β”‚
β”β”€β”€ server/
β”‚   β”β”€β”€ server.c            # λ¨Έν‹°μ¤λ λ“, daemon, signal μ²λ¦¬ ν¬ν•¨
β”‚   β”β”€β”€ server.log          # μ‹¤ν–‰ λ΅κ·Έ μ¶λ ¥
β”‚   β””β”€β”€ makefile
```

---

## π› οΈ μ‹ν— λ°©λ²•

### π”§ μ‚¬μ „ μ¤€λΉ„

* Raspberry Pi 4
* `wiringPi`, `softPwm`, `softTone` μ„¤μΉ
* GPIO μ¥μΉ μ—°κ²° (GPIO ν• μ •λ³΄ ν¬ν•¨)

### 1. λΉλ“: λ¨λ“ .so μƒμ„±

```bash
cd module
make
```

### 2. λΉλ“: μ„λ²„ μ‹¤ν–‰ νμΌ

```bash
cd ../server
make
```

### 3. μ„λ²„ μ‹¤ν–‰ (daemon + log)

```bash
./server &
tail -f server.log
```

### 4. ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰

```bash
cd ../client
./client <μ„λ²„_IP>
```

---

## π” μ¥μΉ μ μ–΄ κΈ°λ¥

| μ¥μΉ        | λ…λ Ήμ–΄ μμ‹               | κΈ°λ¥ μ„¤λ…                 | GPIO (BCM)                   |
| --------- | -------------------- | --------------------- | ---------------------------- |
| LED       | `LED ON MAX`, `OFF`  | λ°κΈ° μ΅°μ  (MAX, MID, MIN) | GPIO 4                       |
| BUZZER    | `BUZZER ON1`, `OFF`  | λ…Έλ μ¬μƒ (λ™λ¬Όμ μ‡Ό λ“±)       | GPIO 27                      |
| CDS       | `CDS READ`, `NOW`    | λ°κΈ° κ°μ§€ ν›„ LED μ μ–΄        | CDS: GPIO 17, LED: GPIO 22   |
| 7-SEGMENT | `SEG 5`, `SEG LED 4` | μ«μ μΉ΄μ°νΈλ‹¤μ΄, LED, BUZZER | GPIO 23, 18, 15, 14, LED: 21 |

---

## π“¨ ν΄λΌμ΄μ–ΈνΈ μ‘λ‹µ μμ‹

| λ…λ Ήμ–΄          | μ„λ²„ μ‘λ‹µ λ©”μ‹μ§€        |
| ------------ | ---------------- |
| `LED ON MAX` | π μµλ€ λ°κΈ°μ…λ‹λ‹¤!     |
| `BUZZER ON1` | πƒ λ™λ¬Όμ μ‡Ό μ¬μƒ μ¤‘... |
| `CDS READ`   | π‘ μ•μ΄ μ• λ³΄μ—¬μ”!     |
| `SEG 3`      | π’¤ μ μ‹κ°„μ΄μ—μ”\~  |
| `SEG LED 4`  | π’¤ μ§‘κ°€μ”\~         |

---

## π§  μ£Όμ” κΈ°λ¥ μ”μ•½

* π§µ **λ©€ν‹°μ¤λ λ“ μ„λ²„**: `pthread`λ΅ λ™μ‹ ν΄λΌμ΄μ–ΈνΈ μ²λ¦¬
* π§  **SIGINT ν•Έλ“¤λ¬**: `Ctrl+C` μ‹νΈλ§ κ°μ§€, μ•μ „ μΆ…λ£
* π“† **κ³µμ© λΌμ΄λΈλ¬λ¦¬ λ΅λ”©**: `dlopen()` ν† λ„λ¦¬ κ°„ λ―Έμ²΄ μ‹μ¤ν…
* π¨ **CLI UI**: μ΄λ¨μ§€, μ»¬λ¬ μ¶λ ¥, λ…λ Ήμ–΄ λ„μ›€λ§ μ κ³µ
* π› οΈ **Makefile**: λ¨λ“ + μ„λ²„ + ν΄λΌμ΄μ–ΈνΈ μλ™ λΉλ“

---

## β… ν…μ¤νΈ ν™κ²½

* Raspberry Pi 4 Model B (Raspbian OS)
* Ubuntu 22.04 (Client)
* GCC 9.x
* μ‚¬μ© λΌμ΄λΈλ¬λ¦¬: wiringPi, softTone, softPwm

---

## π‘¨β€π’Ό κ°λ°μ μ •λ³΄

* μ΄λ¦„: **Jioh Jeon**
* κ°λ° κΈ°κ°„: **3μΌ μ§€μ¤‘ ν”„λ΅μ νΈ**
